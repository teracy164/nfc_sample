<html>
    <head>
        <script>
            const isSupportedNFC = () => {
                if ('NDEFReader' in window) {
                    return true;
                } else {
                    return false;
                }
            }
            const readNFC = async () => {
                return new Promise(async (resolve, reject) => {
                    try {
                        const reader = new NDEFReader();
                        await reader.scan();

                        reader.onreading = event => {
                            console.log(event);
                            resolve(event);
                        }
                        reader.onerror = event => {
                            console.error(event);
                            reject(event);
                        }
                    } catch (err) {
                        console.error(err);
                        reject();
                    }
                });
            }
            const startNFC = () => readNFC();

            window.onload = () => {
                if (isSupportedNFC()) {
                    console.log('nfc supported.')
                    document.getElementById('btn').style.display='';
                } else {
                    console.log('nfc not supported.')
                    document.getElementById('btn').style.display='none';
                }                
            }
        </script>
    </head>
    <body>
        <div>

        </div>
        <button id="btn" onclick="startNFC()">start NFC</button>
    </body>
</html>
